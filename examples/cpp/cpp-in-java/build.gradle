plugins {
    id 'java'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.bytedeco:javacpp:1.5.6'
    implementation 'org.bytedeco:javacpp-platform:1.5.6'
}

task buildNative(type: Exec) {
    commandLine 'g++', '-shared', '-o', 'libnative.so', 'src/main/cpp/native.cpp'
}

compileJava.dependsOn buildNative
